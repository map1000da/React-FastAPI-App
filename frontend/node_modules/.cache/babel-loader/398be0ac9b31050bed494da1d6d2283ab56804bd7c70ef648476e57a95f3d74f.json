{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nexport const useAuth = () => {\n  _s();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const login = useCallback(id => {\n    setLoading(true);\n    axios.get(`https://jsonplaceholder.typicode.com/users/${id}`).then(res => {\n      if (res.data) {\n        navigate(\"/home\");\n      } else {\n        alert(\"ユーザーが見つかりません\");\n      }\n    }).catch(() => alert(\"ログインできません\")).finally(() => setLoading(false));\n  }, []);\n  return {\n    login,\n    loading\n  };\n};\n_s(useAuth, \"Ivok1V0AlJTWjG+fpEl4M92lQM0=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["useCallback","useState","axios","useNavigate","useAuth","_s","navigate","loading","setLoading","login","id","get","then","res","data","alert","catch","finally"],"sources":["/Users/sendateppei/Desktop/ChatGPT使って学ぶ/react-user_management/src/hocks/useAuth.ts"],"sourcesContent":["import { useCallback, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { User } from \"../types/api/user\";\n\nexport const useAuth = () => {\n  const navigate = useNavigate();\n\n  const [loading, setLoading] = useState(false);\n\n  const login = useCallback((id: string) => {\n    setLoading(true);\n    axios\n      .get<User>(`https://jsonplaceholder.typicode.com/users/${id}`)\n      .then((res) => {\n        if (res.data) {\n          navigate(\"/home\");\n        } else {\n          alert(\"ユーザーが見つかりません\");\n        }\n      })\n      .catch(() => alert(\"ログインできません\"))\n      .finally(() => setLoading(false));\n  }, []);\n\n  return { login, loading };\n};\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAI9C,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,QAAQ,GAAGH,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACI,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMQ,KAAK,GAAGT,WAAW,CAAEU,EAAU,IAAK;IACxCF,UAAU,CAAC,IAAI,CAAC;IAChBN,KAAK,CACFS,GAAG,CAAQ,8CAA6CD,EAAG,EAAC,CAAC,CAC7DE,IAAI,CAAEC,GAAG,IAAK;MACb,IAAIA,GAAG,CAACC,IAAI,EAAE;QACZR,QAAQ,CAAC,OAAO,CAAC;MACnB,CAAC,MAAM;QACLS,KAAK,CAAC,cAAc,CAAC;MACvB;IACF,CAAC,CAAC,CACDC,KAAK,CAAC,MAAMD,KAAK,CAAC,WAAW,CAAC,CAAC,CAC/BE,OAAO,CAAC,MAAMT,UAAU,CAAC,KAAK,CAAC,CAAC;EACrC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEC,KAAK;IAAEF;EAAQ,CAAC;AAC3B,CAAC;AAACF,EAAA,CArBWD,OAAO;EAAA,QACDD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}